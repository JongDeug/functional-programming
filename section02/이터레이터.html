<script>
    const log = console.log;

    // Array
    const arr = [1, 2, 3];
    // arr[Symbol.iterator] = null;
    for (const a of arr) log(a);

    // Set
    const set = new Set([1, 2, 3]);
    for (const a of set) log(a);

    // Map
    const map = new Map([['a', 1], ['b', 2], ['c', 3]]);
    map.set('d', 4);
    for (const a of map) log(a);

    /**
     * 이터러블/이터레이터 프로토콜
     * 
     * 이터러블: 이터레이터를 리턴하는 [Symbol.iterator]()를 가진 값
     * 이터레이터: { value, done } 객체를 리턴하는 next()를 가진 값
     * 이터러블/이터레이터 프로토콜: 이터러블을 for...of, 전개 연산자 등과 함께 동작하도록 한 규약
     * 
     * done이 true가 되면 종료됨
     */
    log(arr[Symbol.iterator]) // 이터러블
    log(arr[Symbol.iterator]()) // 이터레이터
    log(arr[Symbol.iterator]().next())

    log(map.keys()) // 이터레이터 반환
    log(map.values())
    log(map.entries())

    let it = map.values(); // 이터레이터 반환
    let it2 = it[Symbol.iterator]() // 이터레이터의 이터레이터는 자기 자신을 반환
    for (const a of it2) log(a);
</script>